# Vision: Crypto Lab

## 1. Назначение проекта

**Crypto Lab** — это исследовательская лаборатория для крипторынка, ориентированная на:

- систематическую проверку торговых гипотез;
- работу с **качественными историческими данными** (OHLCV);
- воспроизводимые бэктесты и отчёты;
- постепенный переход от ручного трейдинга к алгоритмическим стратегиям.

Проект задуман как личный исследовательский инструмент, который можно:

- использовать самому для разработки и проверки идей;
- адаптировать под обучение (ученикам, коллегам, подписчикам);
- в будущем расширить до полуавтоматических или автоматических решений (боты, сигнальные сервисы).

---

## 2. Целевая аудитория

1. **Автор проекта (основной пользователь)**

   - трейдер, который хочет формализовать и проверять свои идеи;
   - разработчик, который пишет стратегии на Python и Pine Script.

2. **Продвинутая аудитория (потенциал на будущее)**
   - ученики и студенты, изучающие алгоритмический трейдинг;
   - трейдеры, которым нужен прозрачный и воспроизводимый бэктестинг.

---

## 3. Область применения (scope)

### 3.1. Что входит в первую версию (MVP)

1. **Работа с данными**

   - Загрузка исторических OHLCV-данных через `ccxt`.
   - Приведение данных к единому формату (единый data-contract).
   - Базовое хранилище (файлы Parquet / локальное хранение).
   - Базовый QC (проверка целостности данных, пропуски, дубликаты).

2. **Исследовательский слой**

   - Шаблоны для Jupyter-ноутбуков: загрузка данных, простые графики, базовые метрики.
   - Минимальные вспомогательные функции для аналитики (доходности, волатильность).

3. **Бэктестинг (очень простой)**

   - Бэктестер v0: по-свечной проход, без сложного моделирования исполнения.
   - Оценка простых стратегий (например, MA-cross, breakout).

4. **Воспроизводимость**
   - Фиксированная структура репозитория.
   - Документация по схемам данных и QC-правилам.
   - Набор минимальных тестов (pytest) для критичных частей.

### 3.2. Что не входит в первую версию

- Реальная автоторговля на бирже.
- Сложное моделирование исполнения (стакан, проскальзывание по отдельным сделкам).
- Веб-интерфейс, личный кабинет, многопользовательский режим.
- Сложная инфраструктура продакшн-уровня (куча сервисов, оркестрация и т.п.).

Это может появиться позже, на следующих этапах, но не является задачей MVP.

---

## 4. Основные сценарии использования

1. **Сценарий 1: Проверка новой гипотезы**

   - Сформулировать торговую идею в текстовом виде.
   - Загрузить данные за нужный период по нужным инструментам.
   - Прогнать QC и убедиться, что данные удовлетворяют контракту.
   - Реализовать простейшую версию стратегии в бэктестере.
   - Получить отчёт: ключевые метрики, графики, выводы.

2. **Сценарий 2: Сравнение нескольких вариаций стратегии**

   - Взять одну базовую идею (например, MA-cross).
   - Протестировать разные параметры (периоды MA, фильтры по волатильности и т.п.).
   - Сохранить результаты в структурированном виде.
   - Сравнить стратегии по одинаковому набору метрик.

3. **Сценарий 3: Учебный пример**
   - Использовать готовые данные и ноутбук-шаблон.
   - Показать ученику/студенту весь путь: от сырого OHLCV до простого бэктеста.
   - Пошагово объяснить, где могут появляться ошибки и искажения.

---

## 5. Требования к качеству данных и экспериментов

1. **Данные**

   - Все свечи приведены к единому формату (тип, таймзона, имена колонок).
   - Нет дубликатов по `(exchange, symbol, timeframe, timestamp)`.
   - Пропуски либо явно отмечены, либо устранены по фиксированным правилам (описаны в документации).
   - Любые отклонения от контракта фиксируются QC-модулем и отражаются в отчётах.

2. **Эксперименты**
   - Каждый бэктест должен быть воспроизводим: те же входные параметры → те же результаты.
   - Параметры эксперимента (символ, период, таймфрейм, параметры стратегии) фиксируются в конфиге или отчёте.
   - Результаты (метрики и ключевые графики) сохраняются в структурированном виде (JSON, Markdown, папка отчёта).

---

## 6. Технологический стек

- **Язык:** Python 3.12+
- **Библиотеки:**
  - `ccxt` — доступ к биржам;
  - `pandas` — работа с данными;
  - `pyarrow`/`fastparquet` — Parquet (опционально);
  - `pytest` — тесты;
  - Jupyter / VS Code / Codex — для исследования и разработки.

Pine Script на этом этапе рассматривается как параллельное направление (для индикаторов и визуализации), но в ядро лаборатории Python входит в первую очередь.

---

## 7. Планы развития

- Уточнение и усиление QC-модулей (анализ аномалий, сравнение разных источников данных).
- Расширение бэктестера: поддержка нескольких инструментов, портфели, сложные правила управления позицией.
- Интеграция с Pine Script (синхронизация сигналов / стратегий между TV и Python).
- Подготовка учебных материалов на основе лаборатории (курсы, мини-лабы, домашки).
